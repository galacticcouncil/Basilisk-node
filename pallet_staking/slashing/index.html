<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A slashing implementation for NPoS systems."><meta name="keywords" content="rust, rustlang, rust-lang, slashing"><title>pallet_staking::slashing - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-e963ab4a0d0c903e.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-046227e470cd3629.css"><link rel="stylesheet" disabled href="../../static.files/dark-800f2ee593c8e6f7.css"><link rel="stylesheet" disabled href="../../static.files/ayu-9edae3c387f5a5b3.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../../static.files/main-287cecec4dbb45b0.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../pallet_staking/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../pallet_staking/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module slashing</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Module <a href="../index.html">pallet_staking</a>::<wbr><a class="mod" href="#">slashing</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/pallet_staking/slashing.rs.html#18-862">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A slashing implementation for NPoS systems.</p>
<p>For the purposes of the economic model, it is easiest to think of each validator as a nominator
which nominates only its own identity.</p>
<p>The act of nomination signals intent to unify economic identity with the validator - to take
part in the rewards of a job well done, and to take part in the punishment of a job done badly.</p>
<p>There are 3 main difficulties to account for with slashing in NPoS:</p>
<ul>
<li>A nominator can nominate multiple validators and be slashed via any of them.</li>
<li>Until slashed, stake is reused from era to era. Nominating with N coins for E eras in a row
does not mean you have N*E coins to be slashed - you’ve only ever had N.</li>
<li>Slashable offences can be found after the fact and out of order.</li>
</ul>
<p>The algorithm implemented in this module tries to balance these 3 difficulties.</p>
<p>First, we only slash participants for the <em>maximum</em> slash they receive in some time period,
rather than the sum. This ensures a protection from overslashing.</p>
<p>Second, we do not want the time period (or “span”) that the maximum is computed
over to last indefinitely. That would allow participants to begin acting with
impunity after some point, fearing no further repercussions. For that reason, we
automatically “chill” validators and withdraw a nominator’s nomination after a slashing event,
requiring them to re-enlist voluntarily (acknowledging the slash) and begin a new
slashing span.</p>
<p>Typically, you will have a single slashing event per slashing span. Only in the case
where a validator releases many misbehaviors at once, or goes “back in time” to misbehave in
eras that have already passed, would you encounter situations where a slashing span
has multiple misbehaviors. However, accounting for such cases is necessary
to deter a class of “rage-quit” attacks.</p>
<p>Based on research at <a href="https://research.web3.foundation/en/latest/polkadot/slashing/npos.html">https://research.web3.foundation/en/latest/polkadot/slashing/npos.html</a></p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SlashingSpans.html" title="pallet_staking::slashing::SlashingSpans struct">SlashingSpans</a></div><div class="item-right docblock-short">An encoding of all of a nominator’s slashing spans.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.do_slash.html" title="pallet_staking::slashing::do_slash fn">do_slash</a></div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.SpanIndex.html" title="pallet_staking::slashing::SpanIndex type">SpanIndex</a></div><div class="item-right docblock-short">The index of a slashing span - unique to each stash.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="pallet_staking" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.0-nightly (234151769 2022-12-03)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>