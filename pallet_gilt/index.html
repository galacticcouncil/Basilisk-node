<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Gilt Pallet"><meta name="keywords" content="rust, rustlang, rust-lang, pallet_gilt"><title>pallet_gilt - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-e963ab4a0d0c903e.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-046227e470cd3629.css"><link rel="stylesheet" disabled href="../static.files/dark-800f2ee593c8e6f7.css"><link rel="stylesheet" disabled href="../static.files/ayu-9edae3c387f5a5b3.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-287cecec4dbb45b0.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../pallet_gilt/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../pallet_gilt/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate pallet_gilt</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 4.0.0-dev</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Crate <a class="mod" href="#">pallet_gilt</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/pallet_gilt/lib.rs.html#18-662">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="gilt-pallet"><a href="#gilt-pallet">Gilt Pallet</a></h2>
<p>A pallet allowing accounts to auction for being frozen and receive open-ended
inflation-protection in return.</p>
<h3 id="overview"><a href="#overview">Overview</a></h3>
<p>Lock up tokens, for at least as long as you offer, and be free from both inflation and
intermediate reward or exchange until the tokens become unlocked.</p>
<h3 id="design"><a href="#design">Design</a></h3>
<p>Queues for each of 1-<code>QueueCount</code> periods, given in blocks (<code>Period</code>). Queues are limited in
size to something sensible, <code>MaxQueueLen</code>. A secondary storage item with <code>QueueCount</code> x <code>u32</code>
elements with the number of items in each queue.</p>
<p>Queues are split into two parts. The first part is a priority queue based on bid size. The
second part is just a FIFO (the size of the second part is set with <code>FifoQueueLen</code>). Items are
always prepended so that removal is always O(1) since removal often happens many times under a
single weighed function (<code>on_initialize</code>) yet placing bids only ever happens once per weighed
function (<code>place_bid</code>). If the queue has a priority portion, then it remains sorted in order of
bid size so that smaller bids fall off as it gets too large.</p>
<p>Account may enqueue a balance with some number of <code>Period</code>s lock up, up to a maximum of
<code>QueueCount</code>. The balance gets reserved. There’s a minimum of <code>MinFreeze</code> to avoid dust.</p>
<p>Until your bid is turned into an issued gilt you can retract it instantly and the funds are
unreserved.</p>
<p>There’s a target proportion of effective total issuance (i.e. accounting for existing gilts)
which the we attempt to have frozen at any one time. It will likely be gradually increased over
time by governance.</p>
<p>As the total funds frozen under gilts drops below <code>FrozenFraction</code> of the total effective
issuance, then bids are taken from queues, with the queue of the greatest period taking
priority. If the item in the queue’s locked amount is greater than the amount left to be
frozen, then it is split up into multiple bids and becomes partially frozen under gilt.</p>
<p>Once an account’s balance is frozen, it remains frozen until the owner thaws the balance of the
account. This may happen no earlier than queue’s period after the point at which the gilt is
issued.</p>
<h3 id="suggested-values"><a href="#suggested-values">Suggested Values</a></h3>
<ul>
<li><code>QueueCount</code>: 300</li>
<li><code>Period</code>: 432,000</li>
<li><code>MaxQueueLen</code>: 1000</li>
<li><code>MinFreeze</code>: Around CHF 100 in value.</li>
</ul>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><div class="item-table"><div class="item-row"><div class="item-left import-item"><code>pub use <a class="mod" href="pallet/index.html" title="mod pallet_gilt::pallet">pallet</a>::*;</code></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="pallet/index.html" title="pallet_gilt::pallet mod">pallet</a></div><div class="item-right docblock-short">The module that hosts all the
<a href="https://docs.substrate.io/main-docs/build/events-errors/">FRAME</a>
types needed to add this pallet to a
runtime.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="weights/index.html" title="pallet_gilt::weights mod">weights</a></div><div class="item-right docblock-short">Autogenerated weights for pallet_gilt</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="pallet_gilt" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.0-nightly (234151769 2022-12-03)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>