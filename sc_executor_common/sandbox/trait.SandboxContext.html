<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The sandbox context used to execute sandboxed functions."><meta name="keywords" content="rust, rustlang, rust-lang, SandboxContext"><title>SandboxContext in sc_executor_common::sandbox - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-e963ab4a0d0c903e.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-046227e470cd3629.css"><link rel="stylesheet" disabled href="../../static.files/dark-800f2ee593c8e6f7.css"><link rel="stylesheet" disabled href="../../static.files/ayu-9edae3c387f5a5b3.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-287cecec4dbb45b0.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../sc_executor_common/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../sc_executor_common/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">SandboxContext</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.invoke">invoke</a></li><li><a href="#tymethod.supervisor_context">supervisor_context</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In sc_executor_common::sandbox</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Trait <a href="../index.html">sc_executor_common</a>::<wbr><a href="index.html">sandbox</a>::<wbr><a class="trait" href="#">SandboxContext</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/sc_executor_common/sandbox.rs.html#120-144">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust trait"><code>pub trait SandboxContext {
    fn <a href="#tymethod.invoke" class="fn">invoke</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invoke_args_ptr: <a class="struct" href="../../sp_wasm_interface/struct.Pointer.html" title="struct sp_wasm_interface::Pointer">Pointer</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invoke_args_len: <a class="type" href="../../sp_wasm_interface/type.WordSize.html" title="type sp_wasm_interface::WordSize">WordSize</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;func_idx: <a class="struct" href="struct.SupervisorFuncIndex.html" title="struct sc_executor_common::sandbox::SupervisorFuncIndex">SupervisorFuncIndex</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../error/type.Result.html" title="type sc_executor_common::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.supervisor_context" class="fn">supervisor_context</a>(&amp;mut self) -&gt; &amp;mut dyn <a class="trait" href="../../sp_wasm_interface/trait.FunctionContext.html" title="trait sp_wasm_interface::FunctionContext">FunctionContext</a>;
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The sandbox context used to execute sandboxed functions.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.invoke" class="method has-srclink"><a class="srclink rightside" href="../../src/sc_executor_common/sandbox.rs.html#134-140">source</a><h4 class="code-header">fn <a href="#tymethod.invoke" class="fn">invoke</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;invoke_args_ptr: <a class="struct" href="../../sp_wasm_interface/struct.Pointer.html" title="struct sp_wasm_interface::Pointer">Pointer</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;invoke_args_len: <a class="type" href="../../sp_wasm_interface/type.WordSize.html" title="type sp_wasm_interface::WordSize">WordSize</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;state: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;func_idx: <a class="struct" href="struct.SupervisorFuncIndex.html" title="struct sc_executor_common::sandbox::SupervisorFuncIndex">SupervisorFuncIndex</a><br>) -&gt; <a class="type" href="../error/type.Result.html" title="type sc_executor_common::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>&gt;</h4></section></summary><div class="docblock"><p>Invoke a function in the supervisor environment.</p>
<p>This first invokes the dispatch thunk function, passing in the function index of the
desired function to call and serialized arguments. The thunk calls the desired function
with the deserialized arguments, then serializes the result into memory and returns
reference. The pointer to and length of the result in linear memory is encoded into an
<code>i64</code>, with the upper 32 bits representing the pointer and the lower 32 bits representing
the length.</p>
<h5 id="errors"><a href="#errors">Errors</a></h5>
<p>Returns <code>Err</code> if the dispatch_thunk function has an incorrect signature or traps during
execution.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.supervisor_context" class="method has-srclink"><a class="srclink rightside" href="../../src/sc_executor_common/sandbox.rs.html#143">source</a><h4 class="code-header">fn <a href="#tymethod.supervisor_context" class="fn">supervisor_context</a>(&amp;mut self) -&gt; &amp;mut dyn <a class="trait" href="../../sp_wasm_interface/trait.FunctionContext.html" title="trait sp_wasm_interface::FunctionContext">FunctionContext</a></h4></section></summary><div class="docblock"><p>Returns the supervisor context.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../../implementors/sc_executor_common/sandbox/trait.SandboxContext.js" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="sc_executor_common" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.0-nightly (234151769 2022-12-03)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>